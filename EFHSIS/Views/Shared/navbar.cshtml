@using Microsoft.AspNetCore.Identity
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
            </li>
        </ul>
        @{
            var dashboard = "";
            var child_care = "";
            var dental_health = "";
            if (ViewBag.ControllerFunction == "/")
            {
                dashboard = "active";
            }
            else if (ViewBag.ControllerFunction == "/Home/ChildCare")
            {
                child_care = "active";
            }
            else if (ViewBag.ControllerFunction == "/DentalHealth/DentalHome")
            {
                dental_health = "active";
            }
        }
        <!-- FILTER FORM -->
        <form class="form-inline ml-3" method="POST" id="form_submit" >
            @{
                int year = DateTime.Now.Year;
                DateTime firstDay = new DateTime(year, 1, 1);
                DateTime lastDay = new DateTime(year, 12, 31);
            }
            <div class="input-group input-group-sm">
                <input class="form-control form-control" type="text" name="filter" value="@firstDay.ToShortDateString() - @lastDay.ToShortDateString()" id="filter" placeholder="Filter date.." aria-label="Filter">
                <div class="input-group-append">
                    <button class="btn btn-navbar" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </form>

        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <!-- Messages Dropdown Menu -->
            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                    <i class="far fa fa-cogs"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                        <button type="submit" class="nav-link btn btn-link text-dark">Logout</button>
                    </form>
                </div>
            </li>
        </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Sidebar user panel (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                <div class="image">
                    <img src="~/img/doh.png" class="img-circle elevation-2" alt="User Image">
                </div>
                <div class="info">
                    <a href="#" class="d-block">CEBU PROVINCE</a>
                </div>
            </div>

            <!-- Sidebar Menu -->
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                    <li class="nav-item">
                        <a class="nav-link @dashboard" href="@Url.Action("Index","Home")">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>
                                Dashboard
                                <span class="right badge badge-danger">New</span>
                            </p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @child_care" href="@Url.Action("ChildCare","Home")">
                            <i class="nav-icon fas fa-child"></i>
                            <p>
                                Child Care
                            </p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link @dental_health" href="@Url.Action("DentalHome","DentalHealth")">
                            <i class="nav-icon fas fa-child"></i>
                            <p>
                                Dental Health
                            </p>
                        </a>
                    </li>
                </ul>
            </nav>
            <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
    </aside>
}

